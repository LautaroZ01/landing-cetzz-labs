---
import { Flag, BarChartBig, PencilLine, CheckCircle2 } from "@lucide/astro";
import TimeLineSteps from "./svg/TimeLineSteps.astro"; // Asumo que esta es la ruta correcta

// --- CAMBIO 1: Nuevos valores de posClass ---
// Estos valores est√°n calculados para tu nuevo SVG
const steps = [
    {
        number: 1,
        title: "General concept",
        description:
            "Far far away, behind mountains, far from the countries Vokalia.",
        icon: Flag,
        posClass: "lg:top-[84px]", // Estaba lg:top-0
    },
    {
        number: 2,
        title: "Post product",
        description:
            "Far far away, behind mountains, far from the countries Vokalia.",
        icon: BarChartBig,
        posClass: "lg:top-[-10px]", // Estaba lg:top-[-60px]
    },
    {
        number: 3,
        title: "Design process",
        description:
            "Far far away, behind mountains, far from the countries Vokalia.",
        icon: PencilLine,
        posClass: "lg:top-[19px]", // Estaba lg:top-[-20px]
    },
    {
        number: 4,
        title: "Final delivery",
        description:
            "Far far away, behind mountains, far from the countries Vokalia.",
        icon: CheckCircle2,
        posClass: "lg:top-[34px]", // Estaba lg:top-0
    },
];
---

<section class="py-16 lg:py-24 overflow-hidden">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative">
        <div
            class="hidden lg:block absolute top-1/2 left-0 w-full h-full -translate-y-1/2 z-10 "
        >
            <TimeLineSteps />
        </div>

        <div
            class="relative z-20 flex flex-col lg:flex-row lg:justify-between items-start w-full gap-16 lg:gap-0 py-10"
        >
            {
                steps.map((step) => (
                    <div class="flex flex-col items-center text-center relative w-full max-w-sm mx-auto lg:basis-[23%] lg:max-w-none">
                        <div
                            class:list={[
                                "bg-primary-500 rounded-full p-5 shadow-xl w-[70px] h-[70px] flex justify-center items-center text-blue-100 transition-transform duration-300 ease-in-out relative z-30",
                                step.posClass,
                            ]}
                        >
                            <step.icon class="w-full h-full" stroke-width={2} />
                        </div>
                        <div class="relative mt-6 lg:pt-8 w-full">
                            <span class="absolute top-[-30px] lg:top-0 left-1/2 -translate-x-1/2 lg:-translate-y-1/2 text-[6rem] lg:text-[8rem] font-bold text-slate-200 -z-10 leading-none select-none opacity-60">
                                {step.number}
                            </span>
                            <h3 class="text-xl lg:text-2xl font-semibold text-slate-900 mb-2">
                                {step.title}
                            </h3>
                            <p class="text-base text-slate-500 leading-relaxed">
                                {step.description}
                            </p>
                        </div>
                    </div>
                ))
            }
        </div>
    </div>
</section>
